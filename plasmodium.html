<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Physarum polycephalum - Plasmodium Demonstration</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #ecf0f1;
      overflow: hidden;
      height: 100vh;
    }

    #canvas-container {
      width: 100%;
      height: 100%;
    }

    .ui-overlay {
      position: absolute;
      top: 20px;
      left: 20px;
      right: 20px;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      font-size: 14px;
    }

    .hidden {
      display: none !important;
    }

    .control-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      background: rgba(52, 152, 219, 0.9);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    button:hover {
      background: rgba(41, 128, 185, 0.95);
      transform: translateY(-2px);
    }

    button:active {
      transform: translateY(0);
    }

    #info-btn {
      background: rgba(155, 89, 182, 0.9);
    }

    #info-btn:hover {
      background: rgba(142, 68, 173, 0.95);
    }

    .info-panel {
      background: rgba(44, 62, 80, 0.95);
      border: 1px solid rgba(52, 152, 219, 0.3);
      border-radius: 8px;
      padding: 16px;
      max-width: 400px;
      font-size: 12px;
      line-height: 1.6;
      backdrop-filter: blur(10px);
    }

    .info-panel h3 {
      margin-bottom: 12px;
      color: #3498db;
      font-size: 14px;
    }

    .info-panel p {
      margin-bottom: 10px;
      color: #bdc3c7;
    }

    .legend {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid rgba(52, 152, 219, 0.2);
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
    }

    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 3px;
    }

    .intro-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
      border: 2px solid #3498db;
      border-radius: 12px;
      padding: 40px;
      max-width: 600px;
      text-align: center;
    }

    .modal-content h1 {
      color: #3498db;
      margin-bottom: 16px;
      font-size: 28px;
    }

    .modal-content p {
      color: #bdc3c7;
      margin-bottom: 12px;
      line-height: 1.8;
    }

    .modal-content .credit {
      color: #95a5a6;
      font-size: 12px;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid rgba(52, 152, 219, 0.2);
    }

    #start-btn {
      margin-top: 20px;
      padding: 12px 32px;
      font-size: 16px;
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    }

    #start-btn:hover {
      background: linear-gradient(135deg, #2980b9 0%, #21618c 100%);
      box-shadow: 0 0 20px rgba(52, 152, 219, 0.5);
    }

    .stats-panel {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(44, 62, 80, 0.95);
      border: 1px solid rgba(52, 152, 219, 0.3);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 11px;
      font-family: 'Courier New', monospace;
      backdrop-filter: blur(10px);
      z-index: 100;
      max-width: 250px;
    }

    .stats-panel div {
      color: #2ecc71;
      margin: 4px 0;
    }

    .stats-label {
      color: #95a5a6;
      display: inline-block;
      width: 120px;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 32px;
      height: 32px;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      background: rgba(231, 76, 60, 0.8);
    }

    .close-btn:hover {
      background: rgba(192, 57, 43, 0.95);
    }
  </style>
</head>
<body>
  <div id="canvas-container"></div>

  <div id="intro-modal" class="intro-modal">
    <div class="modal-content">
      <h1>Physarum polycephalum</h1>
      <p><strong>The Slime Mold Plasmodium</strong></p>
      <p>A multinucleated giant cell without a brain, yet capable of problem-solving, navigation, and adaptive behavior through distributed intelligence and protoplasmic streaming.</p>
      <p style="color: #f39c12; margin-top: 20px;">
        Featuring research inspired by <strong>Heather Barnett's</strong> pioneering work exploring the creative and cognitive abilities of slime molds.
      </p>
      <p style="font-size: 12px; color: #7f8c8d; margin-top: 16px;">
        Based on actual proportions: Plasmodium 3-4cm diameter, thousands of nuclei, distributed mitochondria, protoplasmic streaming for "thought"
      </p>
      <button id="start-btn">Explore the Plasmodium</button>
      <div class="credit">
        <p>Research sources: ScienceDirect, Heather Barnett, Protoplasma journals</p>
      </div>
    </div>
  </div>

  <div id="ui-overlay" class="ui-overlay hidden">
    <div class="control-group">
      <button id="info-btn">‚Ñπ Info</button>
      <button id="zoom-in-btn">üîç Zoom In</button>
      <button id="zoom-out-btn">üîç Zoom Out</button>
      <button id="reset-btn">‚ü≤ Reset View</button>
      <button id="toggle-nuclei">‚óØ Toggle Nuclei</button>
      <button id="toggle-stream">„Ä∞ Toggle Stream</button>
    </div>
  </div>

  <div id="info-modal" class="info-panel hidden" style="position: absolute; top: 100px; right: 20px;">
    <button class="close-btn" id="close-info-btn">√ó</button>
    <h3>Physarum polycephalum Structure</h3>
    <p><strong>A multinucleated syncytium:</strong> A single giant cell containing thousands of nuclei that act in coordination without a central control system.</p>

    <p><strong>Key Features:</strong></p>
    <ul style="margin-left: 12px; margin-bottom: 10px;">
      <li>Nuclei: Thousands distributed throughout cytoplasm</li>
      <li>Mitochondria: Dense throughout, supporting metabolic demands</li>
      <li>Protoplasmic streaming: Rhythmic cytoplasmic flow for nutrition and "thought"</li>
      <li>Dendritic veins: Network of channels for nutrient transport</li>
      <li>Size: 3-4 cm diameter (can reach 30+ cm)</li>
    </ul>

    <p style="margin-top: 12px; border-top: 1px solid rgba(52, 152, 219, 0.2); padding-top: 12px;"><strong>Protoplasmic Streaming:</strong> Watch as colored particles shuttle back and forth through the veins. This rhythmic flow is how Physarum "thinks" ‚Äî transporting nutrients, removing waste, and distributing chemical information for navigation and problem-solving.</p>

    <p style="margin-top: 8px;"><strong>Heather Barnett's Research:</strong> Artist and researcher Heather Barnett has documented how Physarum can solve mazes, recreate optimal transport networks (like Tokyo's railway system), and make "decisions" about food sources ‚Äî all through the simple physics of protoplasmic streaming, without a brain or nervous system.</p>

    <div class="legend">
      <div class="legend-item">
        <div class="legend-color" style="background: #f39c12;"></div>
        <span>Nuclei (DNA)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #e74c3c;"></div>
        <span>Mitochondria</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #3498db;"></div>
        <span>Endoplasm</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #1abc9c;"></div>
        <span>Flow Current</span>
      </div>
    </div>

    <p style="margin-top: 12px; color: #95a5a6; font-size: 11px;">
      Based on electron microscopy research and Heather Barnett's observations of slime mold behavior and structure.
    </p>
  </div>

  <div class="stats-panel">
    <div><span class="stats-label">Nuclei Visible:</span> <span id="nuclei-count">0</span></div>
    <div><span class="stats-label">Mitochondria:</span> <span id="mito-count">0</span></div>
    <div><span class="stats-label">Flow Direction:</span> <span id="flow-direction">Outward</span></div>
    <div><span class="stats-label">Streaming Phase:</span> <span id="stream-phase">0%</span></div>
    <div><span class="stats-label">Camera Distance:</span> <span id="cam-distance">0.0</span></div>
  </div>

  <script type="module" src="/src/plasmodium.js"></script>
</body>
</html>
