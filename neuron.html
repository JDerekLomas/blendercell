<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neuron - Neural Signal Transmission</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            slate: {
              50: '#f8fafc',
              100: '#f1f5f9',
              200: '#e2e8f0',
              300: '#cbd5e1',
              400: '#94a3b8',
              500: '#64748b',
              600: '#475569',
              700: '#334155',
              800: '#1e293b',
              900: '#0f172a',
              950: '#020617',
            }
          }
        }
      }
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      overflow: hidden;
      background: #050510;
    }
    #canvas-container {
      width: 100vw;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
    }
    .glass {
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(59, 130, 246, 0.2);
    }
    .glass-strong {
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(59, 130, 246, 0.3);
    }
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
      50% { box-shadow: 0 0 40px rgba(59, 130, 246, 0.5); }
    }
    .pulse-glow {
      animation: pulse-glow 2s ease-in-out infinite;
    }
  </style>
</head>
<body class="bg-slate-950 text-white">
  <div id="canvas-container"></div>

  <!-- Intro Modal -->
  <div id="intro-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70">
    <div class="glass-strong rounded-2xl p-8 max-w-lg w-full text-center">
      <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-blue-900/50 flex items-center justify-center pulse-glow">
        <svg class="w-12 h-12 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
      </div>
      <h1 class="text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400">
        The Neuron
      </h1>
      <p class="text-slate-300 mb-6 leading-relaxed">
        Explore the fundamental unit of the nervous system. Watch action potentials
        propagate along myelinated axons, jumping between nodes of Ranvier in
        saltatory conduction - one of nature's fastest signaling mechanisms.
      </p>
      <div class="grid grid-cols-3 gap-4 mb-6 text-sm">
        <div class="bg-slate-800/50 rounded-lg p-3">
          <div class="text-blue-400 font-bold text-lg">100 m/s</div>
          <div class="text-slate-400">Signal speed</div>
        </div>
        <div class="bg-slate-800/50 rounded-lg p-3">
          <div class="text-blue-400 font-bold text-lg">-70 mV</div>
          <div class="text-slate-400">Resting potential</div>
        </div>
        <div class="bg-slate-800/50 rounded-lg p-3">
          <div class="text-blue-400 font-bold text-lg">86B</div>
          <div class="text-slate-400">Neurons in brain</div>
        </div>
      </div>
      <button id="start-btn" class="w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 rounded-xl font-semibold transition-all duration-300 hover:scale-105">
        Begin Exploration
      </button>
    </div>
  </div>

  <!-- UI Overlay -->
  <div id="ui-overlay" class="fixed inset-0 z-40 pointer-events-none hidden">
    <!-- Top bar -->
    <div class="absolute top-4 left-4 right-4 flex justify-between items-start pointer-events-auto">
      <a href="cells.html" class="glass rounded-xl px-4 py-2 flex items-center gap-2 hover:bg-slate-800/80 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        <span class="text-sm font-medium">Cell Atlas</span>
      </a>
      <div class="glass rounded-xl px-4 py-2">
        <h2 class="text-lg font-bold text-blue-400">Neuron</h2>
        <p class="text-xs text-slate-400">Neural Cell</p>
      </div>
      <!-- Signal Counter -->
      <div class="glass rounded-xl px-4 py-2 flex items-center gap-3">
        <div class="w-8 h-8 rounded-full bg-yellow-500/30 flex items-center justify-center">
          <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
            <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
        </div>
        <div>
          <div class="text-xs text-slate-400">Action Potentials</div>
          <div class="text-xl font-bold text-yellow-400" id="signal-counter">0</div>
        </div>
      </div>
    </div>

    <!-- Bottom controls -->
    <div class="absolute bottom-4 left-4 right-4 flex justify-between items-end pointer-events-auto">
      <!-- Info button -->
      <button id="info-btn" class="glass rounded-xl p-3 hover:bg-slate-800/80 transition-colors">
        <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
      </button>

      <!-- Center controls -->
      <div class="glass rounded-xl px-4 py-3 flex gap-4">
        <button id="zoom-in-btn" class="p-2 hover:bg-slate-700/50 rounded-lg transition-colors" title="Zoom In">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"/>
          </svg>
        </button>
        <button id="zoom-out-btn" class="p-2 hover:bg-slate-700/50 rounded-lg transition-colors" title="Zoom Out">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"/>
          </svg>
        </button>
        <div class="w-px bg-slate-600"></div>
        <button id="fire-btn" class="px-3 py-2 hover:bg-slate-700/50 rounded-lg transition-colors text-yellow-400 font-medium bg-yellow-600/30" title="Fire Action Potential">
          Fire Signal
        </button>
        <div class="w-px bg-slate-600"></div>
        <button id="reset-btn" class="p-2 hover:bg-slate-700/50 rounded-lg transition-colors" title="Reset View">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
          </svg>
        </button>
      </div>

      <!-- Legend -->
      <div class="glass rounded-xl p-3">
        <div class="text-xs text-slate-400 mb-2">Components</div>
        <div class="space-y-1 text-xs">
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-blue-500"></div>
            <span>Soma (cell body)</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-purple-400"></div>
            <span>Dendrites</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-cyan-400"></div>
            <span>Axon</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-amber-200"></div>
            <span>Myelin sheath</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
            <span>Action potential</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Info Modal -->
  <div id="info-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 hidden">
    <div class="glass-strong rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto">
      <div class="flex justify-between items-start mb-4">
        <h2 class="text-2xl font-bold text-blue-400">Neuron Structure & Function</h2>
        <button id="close-info-btn" class="p-2 hover:bg-slate-700/50 rounded-lg transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <div class="space-y-4 text-slate-300">
        <section>
          <h3 class="text-lg font-semibold text-blue-300 mb-2">Soma (Cell Body)</h3>
          <p class="text-sm leading-relaxed">
            The soma contains the nucleus and most organelles. It integrates signals
            from thousands of synaptic inputs on the dendrites. When the membrane
            potential reaches threshold (~-55mV), an action potential is triggered.
          </p>
        </section>

        <section>
          <h3 class="text-lg font-semibold text-blue-300 mb-2">Dendrites</h3>
          <p class="text-sm leading-relaxed">
            Branching extensions that receive signals from other neurons. Dendritic
            spines are small protrusions where most excitatory synapses form. A single
            neuron can have 10,000+ dendritic spines receiving input.
          </p>
        </section>

        <section>
          <h3 class="text-lg font-semibold text-blue-300 mb-2">Axon & Myelin</h3>
          <p class="text-sm leading-relaxed">
            The axon transmits signals away from the soma. Myelin sheaths (from
            oligodendrocytes in CNS, Schwann cells in PNS) insulate the axon,
            dramatically increasing conduction speed from ~1 m/s to 100+ m/s.
          </p>
        </section>

        <section>
          <h3 class="text-lg font-semibold text-blue-300 mb-2">Saltatory Conduction</h3>
          <div class="grid grid-cols-2 gap-3 text-sm">
            <div class="bg-slate-800/50 rounded-lg p-3">
              <div class="font-semibold text-yellow-400">Nodes of Ranvier</div>
              <p class="text-slate-400">Gaps between myelin where ion channels cluster</p>
            </div>
            <div class="bg-slate-800/50 rounded-lg p-3">
              <div class="font-semibold text-cyan-400">Signal Jumping</div>
              <p class="text-slate-400">Action potential "jumps" node to node</p>
            </div>
            <div class="bg-slate-800/50 rounded-lg p-3">
              <div class="font-semibold text-blue-400">Energy Efficient</div>
              <p class="text-slate-400">Fewer ions need to be pumped back</p>
            </div>
            <div class="bg-slate-800/50 rounded-lg p-3">
              <div class="font-semibold text-purple-400">Speed Boost</div>
              <p class="text-slate-400">100x faster than unmyelinated axons</p>
            </div>
          </div>
        </section>

        <section>
          <h3 class="text-lg font-semibold text-blue-300 mb-2">Synaptic Terminals</h3>
          <p class="text-sm leading-relaxed">
            Axon terminals contain vesicles filled with neurotransmitters. When an
            action potential arrives, Ca2+ influx triggers vesicle fusion and
            neurotransmitter release into the synaptic cleft.
          </p>
        </section>

        <section>
          <h3 class="text-lg font-semibold text-blue-300 mb-2">Key Numbers</h3>
          <div class="bg-slate-800/50 rounded-lg p-3 text-sm">
            <ul class="space-y-1 text-slate-400">
              <li>Resting potential: -70 mV</li>
              <li>Action potential peak: +40 mV</li>
              <li>Duration: ~1-2 milliseconds</li>
              <li>Refractory period: ~2 ms absolute, ~4 ms relative</li>
              <li>Axon diameter: 0.1-20 micrometers</li>
              <li>Myelin thickness: ~1 micrometer</li>
            </ul>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script type="module" src="/src/neuron.js"></script>
</body>
</html>
